{"version":3,"sources":["assets/scripts/WebViewObject.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAElF,uCAAkC;AAE5B,IAAA,kBAAmC,EAAlC,oBAAO,EAAE,sBAAyB,CAAC;AAG1C;IAA2C,iCAAY;IAAvD;;IAoCA,CAAC;IAlCG,6BAAK,GAAL;QACI,2CAA2C;QAC3C,mCAAmC;QACnC,qBAAqB;QACrB,mCAAmC;QACnC,iCAAiC;QACjC,IAAI,CAAC,IAAI,CAAC,cAAc,CAAE,EAAE,CAAC,OAAO,CAAC,CAAC;QACtC,IAAI,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;QAC5C,IAAI,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;QAC3E,IAAI,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,gBAAgB,CAAC,aAAa,EAAE,eAAe,CAAC,CAAC;QAC3E,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC;QAC3B,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC;QAC3B,0DAA0D;QAC1D,uEAAuE;QACvE,gDAAgD;QAChD,mDAAmD;QACnD,uBAAuB;QACvB,gJAAgJ;QAChJ,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,kBAAQ,CAAC,GAAG,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC;QACzE,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,kBAAQ,CAAC,GAAG,EAAC,IAAI,EAAC,IAAI,CAAC,CAAC,CAAC;IAC9E,CAAC;IAED,oCAAY,GAAZ,UAAa,GAAW;QAAE,aAAgB;aAAhB,UAAgB,EAAhB,qBAAgB,EAAhB,IAAgB;YAAhB,4BAAgB;;QACtC,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,GAAG,CAAC,MAAM,EAAE,KAAK,EAAE,EAAE;YAC/C,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,MAAI,KAAK,MAAG,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;SAC7C;QACD,OAAO,GAAG,CAAC;IACb,CAAC;IAEJ,mCAAW,GAAX,UAAa,CAAC;QACT,OAAO,QAAQ,CAAE,kBAAkB,CAAE,CAAC,CAAE,CAAE,CAAC;IAC/C,CAAC;IAjCgB,aAAa;QADjC,OAAO;OACa,aAAa,CAoCjC;IAAD,oBAAC;CApCD,AAoCC,CApC0C,EAAE,CAAC,SAAS,GAoCtD;kBApCoB,aAAa","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nimport GameData from \"./GameData\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class WebViewObject extends cc.Component {\n\n    start() {\n        //cc.log(cc.director.getWinSizeInPixels());\n        //cc.log(cc.director.getWinSize());\n        //cc.log(cc.winSize);\n        //cc.log(cc.view.getVisibleSize());\n        //cc.log(cc.view.getFrameSize());\n        this.node.setContentSize (cc.winSize);\n        let webView = this.getComponent(cc.WebView);\n        var idfa = jsb.reflection.callStaticMethod(\"DeviceUtils\", \"getIDFAString\");\n        var idfv = jsb.reflection.callStaticMethod(\"DeviceUtils\", \"getIDFVString\");\n        console.log(\"idfa\" + idfa);\n        console.log(\"idfv\" + idfv);\n        //var ret = jsb.reflection.callStaticMethod(\"DeviceUtils\",\n        //                                 \"callNativeUIWithTitle:andContent:\",\n        //                                 \"cocos2d-js\",\n        //    \"Yes! you call a Native UI from Reflection\");\n        //    console.log(ret);\n        //GameData.url = \"http://sdk.panguhy.com/game/?pgcid=2&gameId=3&sid=80e01b8572fd4130b3591dd6eac0fee8&deviceId=7522b6708b88464b70c3bf0c9ee60ea1\";\n        console.log(this.encode_utf8(this.FormatString(GameData.url,idfa,idfv)));\n        webView.url = this.encode_utf8(this.FormatString(GameData.url,idfa,idfv));\n    }\n\n    FormatString(str: string, ...val: string[]) {\n        for (let index = 0; index < val.length; index++) {\n          str = str.replace(`{${index}}`, val[index]);\n        }\n        return str;\n      }\n\n   encode_utf8( s ){\n        return unescape( encodeURIComponent( s ) );\n    }\n  \n\n}\n"]}